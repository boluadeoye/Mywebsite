<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Boluadeoye — Home (Minimal)</title>
  <style>
    body { margin: 0; font: 16px/1.6 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; background: #0f172a; color: #e5eefc; }
    .wrap { max-width: 900px; margin: 0 auto; padding: 1rem; }
    header { position: sticky; top: 0; background: #0f172a; border-bottom: 1px solid #223; padding: .8rem 1rem; }
    h1 { margin: 0; font-size: 1.2rem; }
    h2 { margin: 1rem 0 .5rem; font-size: 1.25rem; color: #f59e0b; }
    ul { padding-left: 1rem; }
    a { color: #fbbf24; text-decoration: none; }
    a:hover { text-decoration: underline; }
    .error { margin: 1rem 0; color: #ff6b6b; }
    .muted { color: #94a3b8; font-size: .9rem; }
  </style>
</head>
<body>
  <header class="wrap">
    <h1>Boluadeoye — Minimal Starter</h1>
    <div class="muted">Project path: /Mywebsite — everything is relative to this page</div>
  </header>
  <main class="wrap">
    <h2>Posts</h2>
    <div id="status" class="muted">Loading posts…</div>
    <ul id="list"></ul>
  </main>

  <script>
    (function(){
      function xhrJSON(url, cb){
        try{
          var x = new XMLHttpRequest();
          x.open('GET', url, true);
          x.onreadystatechange = function(){
            if (x.readyState === 4){
              if (x.status >= 200 && x.status < 300){
                try { cb(null, JSON.parse(x.responseText)); }
                catch(e){ cb(new Error('Invalid JSON at '+url)); }
              } else { cb(new Error('HTTP '+x.status+' for '+url)); }
            }
          };
          x.send(null);
        }catch(e){ cb(e); }
      }

      var listEl = document.getElementById('list');
      var statusEl = document.getElementById('status');

      xhrJSON('Posts.json', function(err, posts){
        if (err){
          statusEl.innerHTML = 'Error: '+err.message;
          return;
        }
        statusEl.innerHTML = '';
        if (!posts || !posts.length){
          statusEl.innerHTML = 'No posts found in Posts.json';
          return;
        }
        // Sort newest first (string compare is fine for YYYY-MM-DD)
        posts.sort(function(a,b){ return String(b.date).localeCompare(String(a.date)); });
        var html = '';
        for (var i=0;i<posts.length;i++){
          var p = posts[i];
          var title = p.title || 'Untitled';
          var file = p.file || '';
          html += '<li><a href="post.html?file=' + encodeURIComponent(file) + '">' + title + '</a> <span class="muted">(' + (p.date || '') + ')</span></li>';
        }
        listEl.innerHTML = html;
      });
    })();
  </script>
</body>
</html>
