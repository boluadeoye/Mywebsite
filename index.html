<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boludeoye</title>
  <meta name="description" content="Short essays, project notes, and ideas in motion — updated often." />

  <!-- THEME (Dark + Orange) -->
  <style>
    :root{
      --bg:#0f172a;          /* page background (dark navy) */
      --panel:#111a2e;       /* header / cards */
      --ink:#e5eefc;         /* primary text on dark */
      --muted:#a7b3cc;       /* secondary text */
      --chip:#0d1527;        /* chip/button surface */
      --chip-ring:#ffc04333; /* soft orange ring glow */
      --orange:#f59e0b;      /* accent / CTA */
      --orange-ink:#0b0f19;  /* text on orange buttons */
      --ring:rgba(245,158,11,.25);
      --radius:16px;
      color-scheme:dark;
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
      line-height:1.6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    /* Kill any old vignettes / gradients */
    body{ background-image:none !important; }
    .hero::before,.hero::after,.page-vignette,.edge-fade,.gradient-mask,.vignette{
      content:none !important; display:none !important; background:none !important;
    }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:920px;margin:0 auto;padding:24px}

    /* Header */
    header{
      position:sticky; top:0; z-index:10;
      background:var(--panel);
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .brand{
      display:flex; align-items:center; gap:.75rem;
    }
    .brand img{
      width:40px; height:40px; border-radius:50%; object-fit:cover;
      box-shadow:0 0 0 2px rgba(255,255,255,.06) inset;
    }
    .brand h1{font-size:1.25rem;margin:0;font-weight:700}

    .header-row{display:flex; align-items:center; justify-content:space-between}
    .hamburger{
      display:inline-grid; place-items:center;
      width:42px; height:42px; border-radius:10px;
      border:1px solid rgba(255,255,255,.08);
      background:var(--chip); color:var(--ink);
    }
    .hamburger:active{transform:scale(.98)}

    /* Sidebar */
    .sidebar{
      position:fixed; inset:0 30% 0 auto; /* left panel on small screens */
      max-width:320px; width:80vw;
      background:#ff7a00; /* solid orange panel */
      transform:translateX(-105%);
      transition:transform .25s ease;
      z-index:999;
      box-shadow:2px 0 40px rgba(0,0,0,.35);
      overflow:auto;
      padding:20px 16px 32px;
    }
    .sidebar.open{ transform:none; }
    .scrim{
      position:fixed; inset:0;
      background:rgba(0,0,0,.35);
      opacity:0; pointer-events:none;
      transition:opacity .2s ease;
      z-index:998;
    }
    .scrim.show{ opacity:1; pointer-events:auto; }

    .side-link{
      display:block; background:#0d1725; color:var(--ink);
      border:1px solid rgba(255,255,255,.08);
      border-radius:18px; padding:18px; margin:10px 6px;
      font-weight:600;
    }

    /* Hero */
    .hero{padding:48px 0}
    .chip{
      display:inline-flex; align-items:center; gap:.5rem;
      background:var(--chip);
      border:1px solid rgba(255,255,255,.08);
      padding:.5rem 1rem; border-radius:999px;
      box-shadow:0 0 0 6px var(--chip-ring);
      color:var(--muted); font-weight:600;
    }
    h2{font-size:clamp(2rem,5vw,3.6rem); line-height:1.15; margin:.75rem 0 1rem}
    p.lead{color:var(--muted); font-size:1.125rem; margin:0 0 1.25rem}

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:14px 22px; border-radius:16px; border:1px solid rgba(255,255,255,.08);
      background:linear-gradient(180deg,#ffb13b 0%, #f59e0b 90%);
      color:var(--orange-ink); font-weight:800; font-size:1.05rem;
      box-shadow:0 12px 30px var(--ring);
    }

    /* Chips (filters) */
    .chips{display:flex; flex-wrap:wrap; gap:14px; margin:26px 0 6px}
    .chip.tab{box-shadow:none; border:1px solid rgba(255,255,255,.15)}
    .chip.tab.active{ box-shadow:0 0 0 6px var(--chip-ring); border-color:#ffd48522 }

    /* Section headers */
    h3.section{font-size:2.1rem;margin:36px 0 14px}

    /* Posts list */
    #posts .post{
      background:var(--panel); border:1px solid rgba(255,255,255,.06);
      border-radius:16px; padding:18px 18px 20px; margin:12px 0;
    }
    #posts h3{margin:0 0 6px;font-size:1.25rem}
    #posts small{color:#9eb1cc}
    #posts p{margin:.5rem 0 0;color:#c7d3e6}

    /* About card */
    .about{
      background:var(--panel); border:1px solid rgba(255,255,255,.06);
      border-radius:16px; padding:22px; margin:34px 0;
    }
    .about a{color:#cde3ff; text-decoration:underline}
  </style>
</head>
<body>

  <!-- Sidebar + scrim -->
  <div id="scrim" class="scrim" aria-hidden="true"></div>
  <nav id="sidebar" class="sidebar" aria-label="Navigation">
    <div class="wrap">
      <a class="side-link" href="/">All writings</a>
      <a class="side-link" href="#" data-filter="poems">Poems</a>
      <a class="side-link" href="#" data-filter="stories">Stories</a>
      <a class="side-link" href="#" data-filter="faith">Faith</a>
      <a class="side-link" href="#" data-filter="devotional">Devotional</a>
      <a class="side-link" href="#" data-filter="articles">Articles</a>
      <a class="side-link" href="#" data-filter="essays">Essays</a>
      <hr style="border:none;border-top:1px solid rgba(0,0,0,.15);margin:12px 6px">
      <a class="side-link" href="#about">About</a>
      <a class="side-link" href="mailto:bolu@example.com">Email me</a>
      <a class="side-link" href="https://wa.me/2340000000000">WhatsApp</a>
    </div>
  </nav>

  <!-- Header -->
  <header>
    <div class="wrap header-row">
      <button id="menuBtn" class="hamburger" aria-label="Open menu" aria-controls="sidebar" aria-expanded="false">
        <!-- three lines -->
        <svg width="22" height="16" viewBox="0 0 22 16" fill="none" aria-hidden="true">
          <path d="M1 1h20M1 8h20M1 15h20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <a href="/" class="brand" style="text-decoration:none">
        <img src="images/bolu.jpg" alt="Boluadeoye" />
        <h1>Boludeoye</h1>
      </a>
    </div>
  </header>

  <main class="wrap">

    <!-- Hero -->
    <section class="hero">
      <span class="chip">personal site</span>
      <h2>Words that glow in the day.</h2>
      <p class="lead">Short essays, project notes, and ideas in motion — updated often.</p>
      <a class="btn" href="#posts">✨ Read the latest</a>

      <!-- Filter chips -->
      <div class="chips" id="filters">
        <button class="chip tab active" data-filter="all">All writings</button>
        <button class="chip tab" data-filter="poems">Poems</button>
        <button class="chip tab" data-filter="stories">Stories</button>
        <button class="chip tab" data-filter="faith">Faith</button>
        <button class="chip tab" data-filter="devotional">Devotional</button>
        <button class="chip tab" data-filter="articles">Articles</button>
        <button class="chip tab" data-filter="essays">Essays</button>
      </div>
    </section>

    <!-- Posts -->
    <h3 class="section">Latest writings</h3>
    <div id="posts" aria-live="polite">Loading…</div>

    <!-- About -->
    <section id="about" class="about">
      <h3 style="margin:0 0 10px">About</h3>
      <p style="margin:.25rem 0 0">
        I’m <strong>Adeoye Boluwatife</strong>, a final-year student in English and Literary Studies
        at the <a href="https://fuoye.edu.ng/" target="_blank" rel="noopener">Federal University, Oye-Ekiti</a>.
        Writing and creativity are more than passions — they’re how I explore ideas, faith,
        and the beauty of human experience. Here, I share poems, devotionals, essays, and stories:
        words that glow with honesty, inspire reflection, and keep creativity alive.
      </p>
    </section>

  </main>

  <!-- JS: menu, posts, filters -->
  <script>
  (function(){
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    const scrim = document.getElementById('scrim');
    const postsEl = document.getElementById('posts');
    const filtersEl = document.getElementById('filters');

    function openMenu(){ sidebar.classList.add('open'); scrim.classList.add('show'); menuBtn.setAttribute('aria-expanded','true'); }
    function closeMenu(){ sidebar.classList.remove('open'); scrim.classList.remove('show'); menuBtn.setAttribute('aria-expanded','false'); }

    menuBtn.addEventListener('click', (e)=>{ e.stopPropagation(); sidebar.classList.contains('open') ? closeMenu() : openMenu(); });
    scrim.addEventListener('click', closeMenu);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });

    // ---- Posts
    let allPosts = [];

    function renderPosts(filter='all'){
      if(!postsEl) return;
      const list = (filter==='all')
        ? allPosts
        : allPosts.filter(p => (p.type||'').toLowerCase() === String(filter).toLowerCase());

      if(!list.length){
        postsEl.innerHTML = '<p style="color:#a7b3cc">No posts found.</p>';
        return;
      }
      postsEl.innerHTML = list.map(p=>{
        const mins = p.minutes ? ` · ${p.minutes} min read` : '';
        const type = p.type ? ` · <em>${String(p.type).toUpperCase()}</em>` : '';
        const date = p.date || '';
        const excerpt = p.excerpt ? `<p>${p.excerpt}</p>` : '';
        return `
          <article class="post">
            <h3><a href="${p.url}">${p.title}</a></h3>
            <small>${date}${mins}${type}</small>
            ${excerpt}
          </article>`;
      }).join('');
    }

    async function loadPosts(){
      try{
        // Avoid cached JSON on GitHub Pages
        const res = await fetch('posts.json?v=' + Date.now(), { cache: 'no-store' });
        if(!res.ok) throw new Error('posts.json not found ('+res.status+')');
        const data = await res.json();
        if(!Array.isArray(data)) throw new Error('posts.json must be an array');

        // Sort newest first by date if YYYY-MM-DD
        data.sort((a,b)=> String(b.date||'').localeCompare(String(a.date||'')));

        allPosts = data;
        renderPosts('all');
      }catch(err){
        postsEl.innerHTML = '<p style="color:#ffbf24">Couldn\'t load posts.</p>';
        console.error(err);
      }
    }

    // Filter chips (both in hero and in sidebar)
    function handleFilterClick(target){
      const f = target.getAttribute('data-filter');
      if(!f) return;
      renderPosts(f);
      // mark active in hero chip row
      document.querySelectorAll('.chip.tab').forEach(c => c.classList.toggle('active', c===target));
      // close menu if selection came from sidebar
      if(target.classList.contains('side-link')) closeMenu();
    }

    filtersEl.addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-filter]');
      if(btn) handleFilterClick(btn);
    });

    document.getElementById('sidebar').addEventListener('click', (e)=>{
      const link = e.target.closest('[data-filter]');
      if(link){ e.preventDefault(); handleFilterClick(link); }
    });

    // Kickoff
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', loadPosts);
    } else {
      loadPosts();
    }
  })();
  </script>
</body>
</html>
