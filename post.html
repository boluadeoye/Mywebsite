<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Post - Boluadeoye</title>
  <base href="/Mywebsite/">

  <!-- Enhanced Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0f172a; --panel:#111a2e; --panel-hover:#1a2341;
      --ink:#e5eefc; --muted:#94a3b8;
      --orange:#f59e0b; --orange-light:#fbbf24; --orange-dark:#d97706; --orange-ink:#0b0f19;
      --ring:rgba(245,158,11,.25); --radius:16px; 
      --serif:'Playfair Display', 'Cormorant Garamond', Georgia, serif; 
      --body-serif:'Lora', 'Cormorant Garamond', Georgia, serif;
      --transition:cubic-bezier(.4,0,.2,1);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;scroll-behavior:smooth}
    body{
      background:var(--bg);color:var(--ink);font:16px/1.6 system-ui,-apple-system,'Segoe UI',Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative
    }
    body::before{
      content:'';position:fixed;inset:0;background:
        radial-gradient(circle at 20% 50%,rgba(245,158,11,.06) 0%,transparent 50%),
        radial-gradient(circle at 80% 80%,rgba(245,158,11,.03) 0%,transparent 50%);
      pointer-events:none;z-index:0;animation:float 25s ease-in-out infinite
    }
    @keyframes float{0%,100%{transform:scale(1) rotate(0deg)}50%{transform:scale(1.1) rotate(3deg)}}
    a{color:inherit;text-decoration:none}
    /* WIDER WRAP */
    .wrap{max-width:1100px;margin:0 auto;padding:0 1.5rem;position:relative;z-index:1}

    /* Header */
    header{
      position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(15,23,42,.9);
      backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.06);transition:all .3s ease
    }
    header.scrolled{background:rgba(15,23,42,.95);box-shadow:0 10px 30px rgba(0,0,0,.3)}
    .header-row{display:flex;align-items:center;justify-content:space-between;min-height:60px;padding:.5rem 1.5rem;max-width:100%;margin:0}
    .brand{display:flex;align-items:center;gap:.5rem;transition:transform .3s ease;flex-shrink:0}
    .brand:hover{transform:translateX(3px)}
    .brand .dot{
      width:26px;height:26px;border-radius:50%;
      background:radial-gradient(circle at 30% 30%,#ffd27a 0%,#f59e0b 40%,#d97706 100%);
      box-shadow:0 0 0 2px rgba(245,158,11,.12),0 3px 15px rgba(245,158,11,.25);animation:pulse 2s infinite
    }
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    .brand h1{font-size:1.1rem;font-weight:800;color:var(--ink);letter-spacing:-.5px}

    .nav-links{display:flex;gap:.4rem;align-items:center;margin-left:2rem;flex-shrink:0}
    .nav-chip{
      padding:.35rem .8rem;border-radius:999px;background:rgba(245,158,11,.08);color:var(--orange);
      font-weight:600;font-size:.75rem;border:1px solid rgba(245,158,11,.15);transition:all .3s ease;white-space:nowrap;height:28px;
      display:flex;align-items:center;justify-content:center
    }
    .nav-chip:hover{color:var(--orange-ink);background:var(--orange);transform:translateY(-1px);box-shadow:0 3px 8px rgba(245,158,11,.25);border-color:var(--orange)}
    .nav-chip.active{background:var(--orange);color:var(--orange-ink)}

    /* WIDER Post frame */
    .post-container{
      margin-top:75px;margin-bottom:4rem;background:var(--panel);border-radius:24px;border:1px solid rgba(245,158,11,.15);
      box-shadow:0 20px 60px rgba(0,0,0,.3),inset 0 1px 0 rgba(255,255,255,.05);overflow:hidden;position:relative
    }
    .post-container::before,.post-container::after{
      content:'';position:absolute;left:10%;right:10%;height:1px;background:linear-gradient(90deg,transparent,rgba(245,158,11,.3),rgba(245,158,11,.5),rgba(245,158,11,.3),transparent)
    }
    .post-container::before{top:0}.post-container::after{bottom:0}
    /* WIDER CONTENT */
    .content-wrapper{position:relative;padding:3rem;border-left:1px solid rgba(245,158,11,.1);border-right:1px solid rgba(245,158,11,.1);margin:0 1rem}
    .content-wrapper::before,.content-wrapper::after{
      content:'';position:absolute;top:10%;bottom:10%;width:1px;background:linear-gradient(180deg,transparent,rgba(245,158,11,.2),rgba(245,158,11,.2),transparent)
    }
    .content-wrapper::before{left:0}.content-wrapper::after{right:0}

    .post-header{text-align:center;padding:3rem 0 2rem;position:relative;animation:fadeInDown .8s ease}
    @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
    .post-header::after{
      content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:120px;height:3px;background:linear-gradient(90deg,transparent,var(--orange),transparent);border-radius:2px
    }
    .post-meta{display:flex;gap:1.5rem;justify-content:center;align-items:center;flex-wrap:wrap;margin-bottom:2rem}
    .meta-item{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:rgba(245,158,11,.08);border-radius:999px;font-size:.9rem;color:var(--muted);border:1px solid rgba(245,158,11,.15)}
    .post-title{font-family:var(--serif);font-size:clamp(2.3rem,4.5vw,3.3rem);font-weight:900;line-height:1.2;margin:1.2rem 0;
      background:linear-gradient(135deg,var(--orange),var(--orange-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}

    /* WIDER POST CONTENT */
    .post-content{
      padding:2rem 0;
      max-width:900px; /* WIDER */
      margin:0 auto;
      font-size:1.2rem; /* LARGER */
      line-height:2;
      color:rgba(229,238,252,.95);
      animation:fadeInUp .8s ease .5s both;
      text-align:center;
      font-family:var(--body-serif); /* BETTER FONT */
    }
    @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    .post-content h1,.post-content h2,.post-content h3,.post-content h4{font-family:var(--serif);color:var(--orange);margin:3rem 0 1.5rem;font-weight:700;text-align:center;position:relative}
    .post-content h1{font-size:2.25rem}
    .post-content h2{font-size:1.875rem;padding-bottom:1rem}
    .post-content h2::after{content:'';position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:80px;height:3px;background:linear-gradient(90deg,transparent,var(--orange),transparent);border-radius:2px}
    .post-content h3{font-size:1.5rem;color:var(--orange-light)}
    /* WIDER PARAGRAPHS */
    .post-content p{margin-bottom:2rem;text-align:center;max-width:800px;margin-inline:auto;font-weight:400}
    /* ENHANCED BLOCKQUOTE */
    .post-content blockquote{
      position:relative;
      margin:3rem auto;
      padding:3rem;
      max-width:90%; /* WIDER */
      background:linear-gradient(135deg,rgba(245,158,11,.12),rgba(245,158,11,.06));
      border:2px solid rgba(245,158,11,.25);
      border-radius:20px;
      box-shadow:0 15px 40px rgba(0,0,0,.2);
      font-style:italic;
      font-family:var(--serif);
      font-size:1.3rem; /* LARGER */
      line-height:1.8;
      color:var(--ink);
      text-align:center
    }
    .post-content blockquote::before{
      content:'"';position:absolute;top:1rem;left:1.5rem;font-size:4rem;color:var(--orange);opacity:.2;font-family:var(--serif);font-weight:700;line-height:1
    }
    .post-content blockquote::after{
      content:'"';position:absolute;bottom:1rem;right:1.5rem;font-size:4rem;color:var(--orange);opacity:.2;font-family:var(--serif);font-weight:700;line-height:1;transform:rotate(180deg)
    }
    .post-content em{color:var(--orange-light);font-style:italic;font-weight:500}
    .post-content ul,.post-content ol{margin:2rem auto;padding-left:0;max-width:650px;list-style-position:inside;text-align:center}
    .post-content li{margin-bottom:.75rem;color:rgba(229,238,252,.9);text-align:center}
    .post-content code{background:rgba(245,158,11,.1);padding:.25em .5em;border-radius:6px;font-size:.9em;color:var(--orange-light);border:1px solid rgba(245,158,11,.2)}
    .post-content pre{background:var(--panel);padding:1.5rem;border-radius:var(--radius);overflow-x:auto;margin:2rem auto;max-width:90%;border:1px solid rgba(255,255,255,.06)}
    .post-content a{color:var(--orange);text-decoration:none;position:relative;font-weight:500}
    .post-content a::after{content:'';position:absolute;bottom:-2px;left:0;width:0;height:2px;background:var(--orange);transition:width .3s ease}
    .post-content a:hover::after{width:100%}
    .post-content img{max-width:100%;height:auto;border-radius:var(--radius);margin:2.5rem auto;display:block;box-shadow:0 15px 40px rgba(0,0,0,.3)}

    .post-nav{display:flex;justify-content:center;gap:1.5rem;padding:3rem 0;border-top:1px solid rgba(245,158,11,.15);flex-wrap:wrap}
    .btn-chip{
      display:inline-flex;align-items:center;gap:.75rem;padding:.85rem 1.75rem;background:linear-gradient(135deg,var(--orange),var(--orange-light));
      color:var(--orange-ink);border-radius:999px;font-weight:700;font-size:.95rem;position:relative;overflow:hidden;box-shadow:0 4px 15px rgba(245,158,11,.3)
    }
    .btn-chip:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgba(245,158,11,.4)}

    .loading-container{min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--muted);padding:4rem 2rem;text-align:center}
    .loading-spinner{width:40px;height:40px;border:3px solid rgba(245,158,11,.2);border-top-color:var(--orange);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:1rem}
    @keyframes spin{to{transform:rotate(360deg)}}
    .error{text-align:center;padding:3rem;color:#ff6b6b}

    /* GOOGLE/FACEBOOK COMMENTS SECTION */
    .comments-section {
      margin-top: 4rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(245, 158, 11, .15);
      text-align: center;
    }
    .comments-title {
      font-family: var(--serif);
      font-size: 1.8rem;
      color: var(--orange);
      margin-bottom: 1.5rem;
    }
    .signin-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin: 2rem 0;
    }
    .signin-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.7rem 1.2rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }
    .google-signin {
      background: white;
      color: #333;
    }
    .facebook-signin {
      background: #1877f2;
      color: white;
    }
    .signin-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    .comments-note {
      color: var(--muted);
      font-size: 0.9rem;
      max-width: 500px;
      margin: 0 auto;
    }

    footer{background:var(--panel);color:var(--muted);border-top:1px solid rgba(255,255,255,.06);text-align:center;font-size:.9rem;padding:2.5rem 0;margin-top:4rem}
  </style>
</head>
<body>
  <header id="header">
    <div class="header-row">
      <a class="brand" href="./">
        <span class="dot"></span>
        <h1>Boluadeoye</h1>
      </a>
      <nav class="nav-links">
        <a href="./" class="nav-chip">Home</a>
        <a href="./posts.html" class="nav-chip">All Posts</a>
        <a href="./about.html" class="nav-chip">About</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="post-container">
      <div class="content-wrapper">
        <article id="post-content-wrapper">
          <div class="loading-container">
            <div class="loading-spinner"></div>
            <p>Loading your post...</p>
          </div>
        </article>

        <!-- Google/Facebook Comments Section (Placeholder) -->
        <section id="comments-section" class="comments-section" style="display:none">
          <h3 class="comments-title">Join the Conversation</h3>
          <p class="comments-note">Sign in with your account to leave a comment or reaction.</p>
          
          <div class="signin-buttons">
            <button class="signin-btn google-signin" id="google-signin">
              <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
              </svg>
              Sign in with Google
            </button>
            
            <button class="signin-btn facebook-signin" id="facebook-signin">
              <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
              Sign in with Facebook
            </button>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <div class="wrap"><p>© 2025 Boluadeoye • Crafted with passion</p></div>
  </footer>

  <script>
    // Header scroll effect
    window.addEventListener('scroll', () => {
      const header = document.getElementById('header');
      if (window.scrollY > 50) header.classList.add('scrolled'); else header.classList.remove('scrolled');
    });

    // IMPROVED Markdown Processor for Better Blockquote Handling
    function processMarkdown(text) {
      if (!text || typeof text !== 'string') return '<p>Content unavailable.</p>';
      
      // Basic escaping
      text = text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
      
      // Process blockquotes - IMPROVED MULTI-LINE HANDLING
      let lines = text.split('\n');
      let processedLines = [];
      let blockquoteContent = [];
      let inBlockquote = false;
      
      for (let i = 0; i < lines.length; i++) {
        let line = lines[i].trim();
        
        // Check if this is a blockquote line
        if (line.startsWith('> ')) {
          if (!inBlockquote) {
            inBlockquote = true;
            blockquoteContent = [];
          }
          // Add content without the > prefix
          blockquoteContent.push(line.substring(2));
        } 
        // Not a blockquote line
        else {
          // If we were in a blockquote, close it
          if (inBlockquote) {
            processedLines.push(`<blockquote>${blockquoteContent.join(' ')}</blockquote>`);
            inBlockquote = false;
          }
          processedLines.push(line);
        }
      }
      
      // Handle case where blockquote is at the end
      if (inBlockquote) {
        processedLines.push(`<blockquote>${blockquoteContent.join(' ')}</blockquote>`);
      }
      
      text = processedLines.join('\n');
      
      // Process headings
      text = text.replace(/^### (.+)$/gm, '<h3>$1</h3>');
      text = text.replace(/^## (.+)$/gm, '<h2>$1</h2>');
      text = text.replace(/^# (.+)$/gm, '<h1>$1</h1>');
      
      // Process formatting
      text = text.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
      text = text.replace(/\*(.+?)\*/g, '<em>$1</em>');
      text = text.replace(/```math
([^```]+)```KATEX_INLINE_OPEN([^)]+)KATEX_INLINE_CLOSE/g, '<a href="$2" target="_blank" rel="noopener">$1</a>');
      
      // Process paragraphs
      let paragraphs = text.split(/\n\n+/);
      return paragraphs.map(p => {
        p = p.trim();
        if (!p) return '';
        if (p.startsWith('<h') || p.startsWith('<blockquote')) return p;
        return `<p>${p.replace(/\n/g, '<br>')}</p>`;
      }).join('');
    }

    // Load and display post
    async function loadPost() {
      const container = document.getElementById('post-content-wrapper');
      try {
        const urlParams = new URLSearchParams(window.location.search);
        const file = urlParams.get('file');
        if (!file) throw new Error("No post file specified in URL.");

        // Load metadata
        const postsRes = await fetch('Posts.json', { cache: 'no-store' });
        if (!postsRes.ok) throw new Error(`Posts.json not found (HTTP ${postsRes.status})`);
        const posts = await postsRes.json();
        const postData = posts.find(p => p.file === file);
        if (!postData) throw new Error(`Post "${file}" not found in Posts.json`);

        // Load markdown file with fallback
        let mdRes = await fetch(file, { cache: 'no-store' });
        if (!mdRes.ok && mdRes.status === 404) {
          const parts = file.split('/');
          const basename = parts.pop();
          const lowerTry = parts.join('/') + '/' + basename.toLowerCase();
          const fallbackRes = await fetch(lowerTry, { cache: 'no-store' });
          if (fallbackRes.ok) mdRes = fallbackRes;
        }
        if (!mdRes.ok) throw new Error(`Markdown file missing at ${file} (HTTP ${mdRes.status})`);

        const markdown = await mdRes.text();
        const content = processMarkdown(markdown);
        document.title = `${postData.title} - Boluadeoye`;

        container.innerHTML = `
          <div class="post-header">
            <div class="post-meta">
              <span class="meta-item">📅 ${new Date(postData.date).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'})}</span>
              <span class="meta-item">📁 ${postData.type || 'general'}</span>
              <span class="meta-item">❤️ ${postData.likes || 0} likes</span>
              <span class="meta-item">👁️ ${postData.views || 0}K views</span>
            </div>
            <h1 class="post-title">${postData.title}</h1>
          </div>
          <div class="post-content">${content}</div>
          <nav class="post-nav">
            <a href="./" class="btn-chip">← Back to Home</a>
            <a href="./posts.html" class="btn-chip">View All Posts →</a>
          </nav>`;
          
        // Show comments section
        document.getElementById('comments-section').style.display = 'block';
        
        window.scrollTo(0, 0);
      } catch (error) {
        console.error("Error loading post:", error);
        container.innerHTML = `
          <div class="error">
            <h2>Unable to Load Post</h2>
            <p>${error.message}</p>
            <div class="post-nav">
              <a href="./" class="btn-chip">← Return to Homepage</a>
            </div>
          </div>`;
      }
    }

    document.addEventListener('DOMContentLoaded', loadPost);
    
    // Handle comment buttons
    document.addEventListener('DOMContentLoaded', () => {
      const googleBtn = document.getElementById('google-signin');
      const facebookBtn = document.getElementById('facebook-signin');
      
      if (googleBtn) {
        googleBtn.addEventListener('click', () => {
          alert('To implement Google Sign-in:\n1. Create a Google Cloud project\n2. Configure OAuth consent screen\n3. Create OAuth client ID\n4. Implement Google Identity Services API');
        });
      }
      
      if (facebookBtn) {
        facebookBtn.addEventListener('click', () => {
          alert('To implement Facebook Sign-in:\n1. Create a Facebook Developer account\n2. Register your app\n3. Configure Facebook Login\n4. Implement Facebook SDK');
        });
      }
    });
  </script>
</body>
</html>
